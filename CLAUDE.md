# 一括シートV3 開発ルール

## 最重要ルール：ライブラリ同期

### ファイル更新時の必須作業

**ルートフォルダのファイルを変更したら、必ず `Library/` フォルダにも反映すること！**

```
一括シートApps_v3/
├── AI.gs                    ← 変更したら
├── Library/
│   └── AI.gs                ← こちらも更新必須
```

### 対象ファイル

以下のファイルは `Library/` フォルダにも同名ファイルが存在する：

- `AI.gs`
- `Config.gs`
- `Debug.gs`
- `EAGLE商品データ連携.gs`
- `Shipping.gs`
- `Translation.gs`
- `Utils.gs`
- `インポート用.gs`
- `コード_Part1_価格計算・バッチ処理.gs`
- `コード_Part2_テンプレート・ポリシー関連.gs`
- `コード_Part3_メニュー・設定関連.gs`
- `コード_Part4_テンプレート・ポリシー関連.gs`
- `コード_Part5_インポート機能関連.gs`

### HTMLファイル（.txt）の更新

HTMLテンプレート（`.txt`ファイル）を変更した場合：

1. ルートの `.txt` ファイルを編集
2. `Library/HtmlTemplates.gs` の該当箇所を更新
3. または `convert_html_to_gs.py` スクリプトを実行

### 新規ファイル作成時

新しい `.gs` ファイルを作成した場合：

1. ルートフォルダに作成
2. **同じファイルを `Library/` フォルダにもコピー**
3. コミット時に両方を含める

### なぜ重要か

- ユーザーはライブラリを参照している
- ルートフォルダは開発用のコピー
- **ライブラリを更新しないと、ユーザーには反映されない**

---

## その他のルール

### コミット・プッシュ

- こまめにコミット・プッシュする
- 特に大きな変更は段階的にコミット
- ロールバックしやすい状態を維持

### テスト

- ライブラリ更新後は実際のスプレッドシートで動作確認
- 既存機能が壊れていないことを確認
